CREATE TABLE IF NOT EXISTS event_addresses
(
    id           BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    latitude     DOUBLE PRECISION                        NOT NULL,
    longitude    DOUBLE PRECISION                        NOT NULL,
    country      VARCHAR(100),
    city         VARCHAR(100)                            NOT NULL,
    region       VARCHAR(100),
    street       VARCHAR(100),
    district     VARCHAR(100),
    building     VARCHAR(10),
    house_number VARCHAR(10),
    floor        VARCHAR(10),
    CONSTRAINT pk_event_addresses PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS event_tags
(
    id   BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    name VARCHAR(50)                             NOT NULL,
    CONSTRAINT pk_event_tags PRIMARY KEY (id),
    CONSTRAINT uc_event_tags_name UNIQUE (name)
);

CREATE TABLE IF NOT EXISTS event_types
(
    id   BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    name VARCHAR(50)                             NOT NULL,
    CONSTRAINT pk_event_types PRIMARY KEY (id),
    CONSTRAINT uc_event_types_name UNIQUE (name)
);

CREATE TABLE IF NOT EXISTS event_type_tags
(
    tag_id  BIGINT NOT NULL,
    type_id BIGINT NOT NULL,
    CONSTRAINT pk_event_type_tags PRIMARY KEY (tag_id, type_id),
    CONSTRAINT fk_evetyptag_on_event_tag FOREIGN KEY (tag_id) REFERENCES event_tags (id),
    CONSTRAINT fk_evetyptag_on_event_type FOREIGN KEY (type_id) REFERENCES event_types (id)
);
